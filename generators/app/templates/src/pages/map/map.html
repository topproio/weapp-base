<!--map.wxml-->

<view class="animate-container">
  <view>
      <view class="all-title">
      		地图
      </view>
      <view class="wrapper">
          <view class="one-example">
                <view class="title">地图功能1：功能按键</view>
                <view class="text-list">
                        <view class="text-item">*定位到本地：需要在js环境获取map的实例，实例上的方法：moveToLocation可以定位到本地。</view>
                        <view class="text-item">*获取map实例的方法为：wx.createMapContext(id, vm),其中两个参数：id为map标签中的id属性,vm为js环境的当前实例，一般情况下直接传入this即可</view>
                        <view class="text-item">*放大缩小地图的功能非常简单：直接控制操作map标签的scale属性即可</view>
                </view>
                <view class="box-wrapper">
                        <map id="map" 
                        markers="markers" 
                        scale="{{map1_scale}}" 
                        show-location 
                        style="width: 100%; height: 200px;">
                                <cover-view style="right: 60rpx;top: 60rpx;position: absolute;">
                                    <cover-view style=" background-color: #fff;border-radius: 10rpx;padding: 30rpx;border: 1px solid #323232;" bindtap="onTap_Map1_toLocation">
                                       <cover-image src="./location40.png" style="width: 60rpx;height: 60rpx;margin: auto;"></cover-image>
                                    </cover-view>
                                </cover-view>
                                <cover-view style="right: 60rpx;bottom: 30rpx;position: absolute;">
                                    
                                    <cover-view style="width: 60rpx;height: 60rpx;line-height: 60rpx;margin: 10rpx; border: 1px solid #323232;text-align: center;background: #fff;border-radius: 5rpx;line-height: 60rpx;" bindtap="onTap_Map1_scaleUp">
                                    	+
                                    </cover-view>
                                    <cover-view style="width: 60rpx;height: 60rpx;line-height: 60rpx;margin: 10rpx;border: 1px solid #323232;text-align: center;background: #fff;border-radius: 5rpx;line-height: 60rpx;" bindtap="onTap_Map1_scaleDw">
                                        -
                                    </cover-view>
                                </cover-view>
                        </map>
                    
                </view>
          </view>
          <view class="one-example">
                <view class="title">地图功能2：自定义标记点</view>
                <view class="text-list">
                        <view class="text-item">*在map标签markers属性可以填充一个数组中，这个数组的每一条为一个marker（标记点）</view>
                        <view class="text-item">*每一个标记点为一条JSON：可以通过lable属性定义下标，也可以定义callout属性为弹出的气泡框。</view>
                        <view class="text-item">*该例子的交互逻辑为点击callout气泡框进入微信自带地图页面，通过该页面可以调用第三方地图进行导航</view>
                </view>
                <view class="box-wrapper">
                    <map id="map2" 
                    scale="13" 
                    markers="{{markers}}" 
                    bindmarkertap
                    show-location  
                    style="width: 100%; height: 200px;"
                    bindcallouttap="onTap_Map2_calloutTap">
                        <cover-view style="right: 60rpx;bottom: 30rpx;position: absolute;">
                        	<cover-view wx:if="{{hasAuth}}" style="margin: 10rpx;border: 1px solid #323232;text-align: center;background: #fff;border-radius: 20rpx;line-height: 60rpx;padding: 20rpx;" bindtap="onTap_Map2_getRandomMark">
                        		生成一个随机地点
                            </cover-view>
                            <button wx:else open-type="openSetting" style="margin: 10rpx;border: 1px solid #323232;text-align: center;background: #fff;border-radius: 20rpx;line-height: 60rpx;padding: 20rpx;">授权</button>
                        </cover-view>
                    </map>
                </view>
          </view>
          
          <view class="one-example">
          	<view class="title">地图功能3：区域以及线框</view>
          	<view class="text-list">
          			<view class="text-item">*map标签中，填充polyline属性来绘制地图连线。</view>
          			<view class="text-item">*map标签中，填充polygons属性来绘制地图区域。</view>
          			<view class="text-item">*其中，polygons（区域）需要微信小程序2.30以上版本。</view>
          	</view>
          	<view class="box-wrapper">
          		<map id="map3" 
          		scale="13"
          		show-location 
                polyline="{{polyline}}"
                polygons="{{polygons}}"
          		style="width: 100%; height: 200px;">
                    <cover-view style="right: 60rpx;bottom: 30rpx;position: absolute;">
                    	<cover-view  wx:if="{{hasAuth}}" style="margin: 10rpx;border: 1px solid #323232;text-align: center;background: #fff;border-radius: 20rpx;line-height: 50rpx;padding: 20rpx;font-size: 26rpx;" bindtap="onTap_Map3_getRandomPolyline">
                    		生成一个新的连线点
                    	</cover-view>
                        <button wx:else open-type="openSetting" style="margin: 10rpx;border: 1px solid #323232;text-align: center;background: #fff;border-radius: 20rpx;line-height: 50rpx;padding: 20rpx;font-size: 26rpx;">授权</button>
                        <cover-view wx:if="{{hasAuth}}" style="margin: 10rpx;border: 1px solid #323232;text-align: center;background: #fff;border-radius: 20rpx;line-height: 50rpx;padding: 20rpx;font-size: 26rpx;" bindtap="onTap_Map3_getRandomPolygons">
                            随机生成一个区域
                        </cover-view>
                        <button wx:else open-type="openSetting" style="margin: 10rpx;border: 1px solid #323232;text-align: center;background: #fff;border-radius: 20rpx;line-height: 50rpx;padding: 20rpx;font-size: 26rpx;">授权</button>
                    </cover-view>
          		</map>
          	</view>
          </view>
      </view>
  </view>
</view>
